# 直流有刷电机的系统辨识与前馈控制

为了更好地控制直流有刷电机，我们常常会在速度环的输出上加上前馈，以使得电机更快地到达目标转速。

一般来说，直流有刷电机控制的物理过程是这样的：PWM占空比-电压-电流-力矩-角加速度-角速度。

根据高中物理，可以注意到我们可以直接控制的 PWM 占空比并不直接对应电机的转速，甚至不直接对应电机的力矩。

例如 PWM 不变，但是电机的负载改变，电机的电流就会随之变化，带动力矩的变化。

因此，我们在调试速度环的时候，就会出现类似“需要边跑边调”而不能“在无负载状态下调”。

但是理论上，如果负载确定，我们可以直接通过电机的物理模型，直接计算出所需的电压，不需要通过速度环的方式。

不过实际上，这个过程中有很多中间量都是未知且控制过程中不可测量的。

这样的系统我们又称之为黑箱系统。

对于黑箱系统，我们可以通过对系统进行近似建模等等方法实现对系统的不完全建模，进而改进原有速度环的纯黑箱控制，这样的通过建模并通过实验测量系统参数的方法，我们称为系统辨识。

通过系统辨识，我们可以通过前馈控制来改进我们的速度环策略。而所谓前馈，就是通过一定的方法，估计目标转速对应 PWM 值，进而在给定目标转速的时候，控制器能够直接输出一个